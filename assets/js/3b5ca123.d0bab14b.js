"use strict";(self.webpackChunkedna_docs=self.webpackChunkedna_docs||[]).push([["22390"],{58910:function(e,t,i){i.r(t),i.d(t,{frontMatter:()=>l,toc:()=>d,default:()=>h,metadata:()=>n,assets:()=>u,contentTitle:()=>c});var n=JSON.parse('{"id":"getting-started/notifications","title":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439","description":"\u041F\u043E\u0441\u043B\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F \u043F\u0435\u0440\u0432\u043E\u043D\u0430\u0447\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438, \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435 \u0432\u044B\u0437\u043E\u0432\u044B SDK \u0434\u043B\u044F \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F push \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439:","source":"@site/ios_versioned_docs/version-4.36.0/getting-started/notifications.md","sourceDirName":"getting-started","slug":"/getting-started/notifications","permalink":"/ios/4.36.0/getting-started/notifications","draft":false,"unlisted":false,"tags":[],"version":"4.36.0","lastUpdatedAt":1753786809000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"mainSidebar","previous":{"title":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430","permalink":"/ios/4.36.0/getting-started/usage"},"next":{"title":"\u041C\u0435\u0442\u043E\u0434\u044B \u0438 \u0441\u0432\u043E\u0439\u0441\u0442\u0432\u0430","permalink":"/ios/4.36.0/getting-started/methods"}}'),r=i(85893),o=i(50065),a=i(47902),s=i(5525);let l={sidebar_position:4},c="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439",u={},d=[];function p(e){let t={admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"\u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430-\u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439",children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439"})}),"\n",(0,r.jsx)(t.p,{children:"\u041F\u043E\u0441\u043B\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F \u043F\u0435\u0440\u0432\u043E\u043D\u0430\u0447\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438, \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435 \u0432\u044B\u0437\u043E\u0432\u044B SDK \u0434\u043B\u044F \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F push \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439:"}),"\n",(0,r.jsxs)(a.Z,{groupId:"ios-language",defaultValue:"swift",values:[{label:"Swift",value:"swift"},{label:"Objective-C",value:"objective-c"}],children:[(0,r.jsx)(s.Z,{value:"swift",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",children:"// MARK: - Remote Notifications\n    \nfunc application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {\n    Threads.threads().applicationDidRegisterForRemoteNotifications(withDeviceToken: deviceToken)\n}\n\n// MARK: - UNUserNotificationCenterDelegate\n\nfunc userNotificationCenter(_ center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping () -> Void) {\n    // Check for application launched from notification\n    if response.actionIdentifier == UNNotificationDefaultActionIdentifier {\n        let userInfo = response.notification.request.content.userInfo\n        if Threads.threads().isThreadsOriginPushUserInfo(userInfo) {\n            // Application launched from Threads notification\n        } else {\n            // Application launched from other notifications\n        }\n    }\n    completionHandler()\n}\n"})})}),(0,r.jsx)(s.Z,{value:"objective-c",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectivec",children:"#pragma mark - Remote Notifications\n\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n    [[Threads threads] applicationDidRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n}\n\n#pragma mark - UNUserNotificationCenterDelegate\n\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void(^)(void))completionHandler {\n    // Check for application launched from notification\n    if ([response.actionIdentifier isEqualToString: UNNotificationDefaultActionIdentifier]) {\n        NSDictionary *userInfo = response.notification.request.content.userInfo;\n        if ([[Threads threads] isThreadsOriginPushUserInfo:userInfo]) {\n            // Application launched from Threads notification\n        } else {\n            // Application launched from other notifications\n        }\n    }\n    completionHandler();\n}\n"})})})]}),"\n",(0,r.jsx)(t.h1,{id:"\u0438\u043D\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044F-\u0441-push-lite",children:"\u0418\u043D\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044F \u0441 Push Lite"}),"\n",(0,r.jsxs)(t.admonition,{type:"note",children:[(0,r.jsx)(t.p,{children:"\u042D\u0442\u043E\u0442 \u0440\u0430\u0437\u0434\u0435\u043B \u0430\u043A\u0442\u0443\u0430\u043B\u0435\u043D \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u043E\u0432, \u0432 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0443\u0436\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F SDK push-lite \u0434\u043B\u044F \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439."}),(0,r.jsx)(t.p,{children:"\u0414\u043B\u044F \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0438 \u0438\u043D\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 push-lite \u0441\u043B\u0435\u0434\u0443\u0439\u0442\u0435 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044F\u043C \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u043C\u044B\u043C \u0432\u043C\u0435\u0441\u0442\u0435 \u0441 SDK"})]}),"\n",(0,r.jsx)(t.p,{children:"\u0418\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0438 Threads \u0434\u043E\u043B\u0436\u043D\u0430 \u0438\u0434\u0442\u0438 \u043F\u0435\u0440\u0432\u043E\u0439"}),"\n",(0,r.jsxs)(a.Z,{groupId:"ios-language",defaultValue:"swift",values:[{label:"Swift",value:"swift"},{label:"Objective-C",value:"objective-c"}],children:[(0,r.jsx)(s.Z,{value:"swift",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",children:'    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n        \n        // Step 1: Configure Threads Framework\n        let threads = Threads.threads()\n        threads.registrationAtStartupDisable = SettingsBundleHelper.getRegistrationAtStartupDisable()\n        threads.isClientIdEncrypted = Configuration.clientIdEncrypted()\n        \n        threads.isShowsNetworkActivity = true\n        \n        guard let providerUid = Configuration.providerUid() else { fatalError("Set providerUid for threadsGate transportProtocol.") }\n        threads.configureTransportProtocol(\n            with: self,\n            webSocketURL: URL(string: Configuration.webSocketURL())!,\n            providerUid: providerUid,\n            restURL: URL(string: Configuration.restServerURL())!,\n            dataStoreURL: URL(string: Configuration.dataStoreURL())!\n        )\n        \n        // Step 2: Configure PushLite Framework\n        pushLite = EDNAPushLite(delegate: self)\n        pushLite.appGroup = "group.io.edna.chatcenter.demo"\n        pushLite.autoRegisterForNotification = false\n        pushLite.logEnable = true\n        pushLite.start()\n        \n        // Step 3: Register device for remote notifications\n        ...\n\n        return true\n    }\n'})})}),(0,r.jsx)(s.Z,{value:"objective-c",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectivec",children:'- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    \n    // Step 1: Configure Threads Framework\n    Threads *threads = [Threads threads];\n    threads.isDebugLoggingEnabled = YES;\n    \n    [threads configureTransportProtocolWithDelegate:self\n                                                   providerUid:@"PROVIDER_UID"\n                                                   webSocketURL: [NSURL URLWithString:@"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 WebSocket API"]\n                                                   restURL: [NSURL URLWithString:@"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 REST API"]\n                                                   dataStoreURL: [NSURL URLWithString:@"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 DataStore API"]];\n    \n    // Step 2: Configure PushLite Framework\n    pushLite = [[EDNAPushLite alloc] initWithDelegate: self];\n    pushLite.appGroup = @"group.io.edna.chatcenter.demo";\n    pushLite.autoRegisterForNotification = NO;\n    pushLite.logEnable = YES;\n    [pushLite start];\n        \n    // Step 3: Register device for remote notifications\n    ...\n        \n    return YES;\n}\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"\u0412 \u0442\u0430\u043A\u043E\u043C \u0436\u0435 \u043F\u043E\u0440\u044F\u0434\u043A\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u044E\u0442\u0441\u044F \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0438\u0437 \u0434\u0435\u043B\u0435\u0433\u0430\u0442\u043E\u0432 \u043D\u043E\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438"}),"\n",(0,r.jsxs)(a.Z,{groupId:"ios-language",defaultValue:"swift",values:[{label:"Swift",value:"swift"},{label:"Objective-C",value:"objective-c"}],children:[(0,r.jsx)(s.Z,{value:"swift",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",children:"    func application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {\n        Threads.threads().applicationDidRegisterForRemoteNotifications(withDeviceToken: deviceToken)\n        pushLite.appDelegate.didRegisterForRemoteNotifications(withDeviceToken: deviceToken)\n    }\n    \n    func application(_ application: UIApplication, didFailToRegisterForRemoteNotificationsWithError error: Error) {\n        pushLite.appDelegate.didFailToRegisterForRemoteNotifications(withError: error)\n    }\n"})})}),(0,r.jsx)(s.Z,{value:"objective-c",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectivec",children:"    - (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n        [[Threads threads] applicationDidRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n        [[pushLite appDelegate] didRegisterForRemoteNotificationsWithDeviceToken: deviceToken];\n    }\n\n    - (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {\n        [[Threads threads] applicationDidFailToRegisterForRemoteNotificationsWithError:error];\n        [[pushLite appDelegate] didFailToRegisterForRemoteNotificationsWithError: error];\n    }\n"})})})]})]})}function h(e={}){let{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},5525:function(e,t,i){i.d(t,{Z:()=>o});var n=i(85893);i(67294);var r=i(67026);function o({children:e,hidden:t,className:i}){return(0,n.jsx)("div",{role:"tabpanel",className:(0,r.Z)("tabItem_Ymn6",i),hidden:t,children:e})}},47902:function(e,t,i){i.d(t,{Z:()=>b});var n=i(85893),r=i(67294),o=i(67026),a=i(69599),s=i(16550),l=i(32e3),c=i(4520),u=i(38341),d=i(76009);function p(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){let{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h({value:e,tabValues:t}){return t.some(t=>t.value===e)}var f=i(7227);function g({className:e,block:t,selectedValue:i,selectValue:r,tabValues:s}){let l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.o5)(),u=e=>{let t=e.currentTarget,n=s[l.indexOf(t)].value;n!==i&&(c(t),r(n))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let i=l.indexOf(e.currentTarget)+1;t=l[i]??l[0];break}case"ArrowLeft":{let i=l.indexOf(e.currentTarget)-1;t=l[i]??l[l.length-1]}}t?.focus()};return(0,n.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:r})=>(0,n.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...r,className:(0,o.Z)("tabs__item","tabItem_LNqP",r?.className,{"tabs__item--active":i===e}),children:t??e},e))})}function m({lazy:e,children:t,selectedValue:i}){let a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===i);return e?(0,r.cloneElement)(e,{className:(0,o.Z)("margin-top--md",e.props.className)}):null}return(0,n.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==i}))})}function v(e){let t=function(e){let{defaultValue:t,queryString:i=!1,groupId:n}=e,o=function(e){let{values:t,children:i}=e;return(0,r.useMemo)(()=>{let e=t??p(i).map(({props:{value:e,label:t,attributes:i,default:n}})=>({value:e,label:t,attributes:i,default:n})),n=(0,u.lx)(e,(e,t)=>e.value===t.value);if(n.length>0)throw Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[t,i])}(e),[a,f]=(0,r.useState)(()=>(function({defaultValue:e,tabValues:t}){if(0===t.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:t}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let i=t.find(e=>e.default)??t[0];if(!i)throw Error("Unexpected error: 0 tabValues");return i.value})({defaultValue:t,tabValues:o})),[g,m]=function({queryString:e=!1,groupId:t}){let i=(0,s.k6)(),n=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c._X)(n),(0,r.useCallback)(e=>{if(!n)return;let t=new URLSearchParams(i.location.search);t.set(n,e),i.replace({...i.location,search:t.toString()})},[n,i])]}({queryString:i,groupId:n}),[v,b]=function({groupId:e}){let t=e?`docusaurus.tab.${e}`:null,[i,n]=(0,d.Nk)(t);return[i,(0,r.useCallback)(e=>{t&&n.set(e)},[t,n])]}({groupId:n}),N=(()=>{let e=g??v;return h({value:e,tabValues:o})?e:null})();return(0,l.Z)(()=>{N&&f(N)},[N]),{selectedValue:a,selectValue:(0,r.useCallback)(e=>{if(!h({value:e,tabValues:o}))throw Error(`Can't select invalid tab value=${e}`);f(e),m(e),b(e)},[m,b,o]),tabValues:o}}(e);return(0,n.jsxs)("div",{className:(0,o.Z)("tabs-container","tabList__CuJ"),children:[(0,n.jsx)(g,{...t,...e}),(0,n.jsx)(m,{...t,...e})]})}function b(e){let t=(0,f.Z)();return(0,n.jsx)(v,{...e,children:p(e.children)},String(t))}},50065:function(e,t,i){i.d(t,{Z:()=>s,a:()=>a});var n=i(67294);let r={},o=n.createContext(r);function a(e){let t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);