"use strict";(self.webpackChunkedna_docs=self.webpackChunkedna_docs||[]).push([["87742"],{83456:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>s,toc:()=>h,default:()=>g,metadata:()=>t,assets:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"advanced/advanced","title":"Advanced Settings","description":"SDK Initialization","source":"@site/i18n/en/docusaurus-plugin-content-docs-android/version-5.6.0/advanced/advanced.md","sourceDirName":"advanced","slug":"/advanced/","permalink":"/en/android/5.6.0/advanced/","draft":false,"unlisted":false,"tags":[],"version":"5.6.0","lastUpdatedAt":1758710978000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"mainSidebar","previous":{"title":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438","permalink":"/en/android/5.6.0/category/\u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0435-\u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"},"next":{"title":"\u0422\u0435\u043C\u044B \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u044F","permalink":"/en/android/5.6.0/advanced/themes"}}'),l=i(85893),r=i(50065),o=i(47902),a=i(5525);let s={sidebar_position:1},c="Advanced Settings",d={},h=[{value:"SDK Initialization",id:"sdk-initialization",level:2},{value:"Configuring Client",id:"configuring-client",level:3},{value:"Client Logout",id:"client-logout",level:3},{value:"Tracking Number of Unread Messages",id:"tracking-number-of-unread-messages",level:3},{value:"Setting Priority for Notification Channel",id:"setting-priority-for-notification-channel",level:3},{value:"Push Notifications Tap-Through and Integration of Several Chats in One App",id:"push-notifications-tap-through-and-integration-of-several-chats-in-one-app",level:3},{value:"Using Styles",id:"using-styles",level:3},{value:"Sending Messages",id:"sending-messages",level:3},{value:"SSL Pinning",id:"ssl-pinning",level:2},{value:"Timeout Customization",id:"timeout-customization",level:2},{value:"Using Internal Deeplinks",id:"using-internal-deeplinks",level:3},{value:"Configuring Backup for App",id:"configuring-backup-for-app",level:2},{value:"Logger",id:"logger",level:2}];function u(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"advanced-settings",children:"Advanced Settings"})}),"\n",(0,l.jsx)(n.h2,{id:"sdk-initialization",children:"SDK Initialization"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.init(ConfigBuilder configBuilder)\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"public static final class ConfigBuilder {\n    @NonNull\n    private Context context;\n    @NonNull\n    private PendingIntentCreator pendingIntentCreator = (context1, appMarker) -> {\n     \n    };\n    @Nullable\n    private UnreadMessagesCountListener unreadMessagesCountListener = null;\n\n    private boolean isDebugLoggingEnabled = false;\n\n    private int historyLoadingCount = 50;\n\n    public ConfigBuilder(@NonNull Context context) {}\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"historyLoadingCount"}),"\xa0- Numbers of messages that are loaded when requesting the chat history (default: 50)"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"isDebugLoggingEnabled"}),"\xa0- Indicates whether to log the message debug (default: false)"]}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsxs)(n.p,{children:["The only required parameter is\xa0",(0,l.jsx)(n.code,{children:"context"}),"."]})}),"\n",(0,l.jsx)(n.h3,{id:"configuring-client",children:"Configuring Client"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.initUser(UserInfoBuilderuserInfo)\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"public final class UserInfoBuilder {\n    @NonNull\n    String clientId;\n    @Nullable\n    String authToken;\n    @Nullable\n    String authSchema;\n    @Nullable\n    String clientIdSignature;\n    @Nullable\n    String userName;\n    @Nullable\n    String data;\n    @Nullable\n    String appMarker;\n    /**\n        * true if client id is encrypted\n        */\n    boolean clientIdEncrypted = false;\n\n    public UserInfoBuilder(@NonNull String clientId) {}\n}\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsx)(n.p,{children:"The only required parameter is clientId."})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"clientId"}),"\xa0- Client's unique ID. This parameter is required."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"authToken"}),"\xa0- String that will be passed in the Authorization http header."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"authSchema"}),"\xa0- String that will be passed in the X-Auth-Schema http header."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"clientIdSignature"}),"\xa0- Authorization signature clientId. The signature must be generated on your authorization server based on clientId using the RSA private key, then encrypted in Base64. For more details, refer to the backend documentation."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"userName"}),"\xa0- Client's name (can be empty)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"data"}),"\xa0-  JSON string with custom client data. The following parameters will be displayed in general client info:\nExample:"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Name Surname",\n  "phone": "+7-999-999-99-99",\n  "email": "e@mail.com",\n  "customField":"customValue"\n}\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"appMarker"}),"\xa0- App identifier. edna Android supports connecting several apps to the same server. For more details, refer to\xa0",(0,l.jsx)(n.a,{href:"/android/advanced/ui",children:"Appearance and Behavior Configuration"}),"). For that, you need to configure the identifier on the server and in the apps. Any unique string can be used as\xa0",(0,l.jsx)(n.code,{children:"appMarker"}),".\xa0",(0,l.jsx)(n.code,{children:"appMarker"}),"\xa0must be the same for the corresponding Android and iOS apps."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"clientIdEncrypted"}),"\xa0-  Flag indicating that\xa0",(0,l.jsx)(n.code,{children:"clientId"}),"\xa0is passed encrypted."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"client-logout",children:"Client Logout"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.logoutClient(@NonNull final String clientId)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Use it for when the client logs out (i.e., when the backend stops trying to deliver messages for this client to the device)."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"clientId"}),"\xa0- Unique client ID"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tracking-number-of-unread-messages",children:"Tracking Number of Unread Messages"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"unreadMessagesCountListener"}),"\xa0- Listener of the number of unread messages"]}),"\n",(0,l.jsx)(n.p,{children:"To subscribe to the changes in the number of unread messages, set a listener as follows:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ConfigBuilder.setUnreadMessagesCountListener(new ThreadsLib.UnreadMessagesCountListener() {\n        @Override\n        public void onUnreadMessagesCountChanged(int count) {\n            // Do the necessary actions\n        }\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"setting-priority-for-notification-channel",children:"Setting Priority for Notification Channel"}),"\n",(0,l.jsxs)(n.p,{children:["Starting with API 26, you can set a priority for the notification channel. For more details, refer here: ",(0,l.jsx)(n.a,{href:"https://developer.android.com/develop/ui/views/notifications/channels",children:"https://developer.android.com/develop/ui/views/notifications/channels"}),".\nIn the library, you can configure them using the ",(0,l.jsx)(n.code,{children:"setNotificationImportance(NotificationManager.IMPORTANCE_...)"})," method when configuring the builder:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ConfigBuilder(this).setNotificationImportance(NotificationManager.IMPORTANCE_HIGH)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"push-notifications-tap-through-and-integration-of-several-chats-in-one-app",children:"Push Notifications Tap-Through and Integration of Several Chats in One App"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"pendingIntentCreator"}),"\xa0- creator of the push tap-through handler intent"]}),"\n",(0,l.jsx)(n.p,{children:"If the user tapped the push notification of the library in the system notifications area, the main screen of the library - ChatActivity - will be opened. To change this behavior, you can configure the creation of your own PendingIntent."}),"\n",(0,l.jsxs)(n.p,{children:["To do this, use the ",(0,l.jsx)(n.code,{children:"ConfigBuilder.setPendingIntentCreator(ThreadsLib.PendingIntentCreator pendingIntentCreator)"}),"\xa0method in application of your application."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ConfigBuilder.setPendingIntentCreator(new ThreadsLib.PendingIntentCreator() {\n            @Override\n            public PendingIntent createPendingIntent(Context context, String appMarker) {\n                if (!TextUtils.isEmpty(appMarker)) {\n                    //Start the appropriate chat according to appMarker\n                }\n});\n"})}),"\n",(0,l.jsxs)(n.p,{children:["To integrate several chats in the same app, see the appMarker in the\xa0",(0,l.jsx)(n.code,{children:"createPendingIntent"})," app. Use it to specify which chat needs to be opened."]}),"\n",(0,l.jsxs)(n.p,{children:["To implement a multi-chat, set\xa0",(0,l.jsx)(n.code,{children:"clientId"})," and\xa0",(0,l.jsx)(n.code,{children:"appMarker"})," before you launch the current chat. For example, for chat 1 to launch:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.initUser(\n    new UserInfoBuilder(clientId1)\n        .setAppMarker(appMarker1)\n)\n//Configure design & behavior for chat 1\n"})}),"\n",(0,l.jsx)(n.p,{children:"For chat 2 to launch:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.initUser(\n    new UserInfoBuilder(clientId2)\n        .setAppMarker(appMarker2)\n)\n//Configure design & behavior for chat 2\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"caution",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Important:"}),"\xa0",(0,l.jsx)(n.code,{children:"clientId1"}),"\xa0and\xa0",(0,l.jsx)(n.code,{children:"clientid2"}),"\xa0must be different. Currently, multi-chat with the same ",(0,l.jsx)(n.code,{children:"clientId"})," is not supported out-of-the-box. However, implementing a multi-chat with one client is possible. To do this, contact your implementation manager."]})}),"\n",(0,l.jsx)(n.h3,{id:"using-styles",children:"Using Styles"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.applyChatStyle(ChatStyle chatStyle)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Use styles to customize the chat appearance. For more details, refer to\xa0",(0,l.jsx)(n.a,{href:"/android/advanced/ui",children:"Appearance and Behavior Configuration"})]}),"\n",(0,l.jsx)(n.h3,{id:"sending-messages",children:"Sending Messages"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ThreadsLib.sendMessage(@Nullable String message, @Nullable File file)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Use it to send any message from on behalf of the client. At least one of the parameters -  message \u0438\u043B\u0438 file - must not be null."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"message"}),"\xa0- Message text"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"file"}),"\xa0- File"]}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"The default server settings allow you to send files up to 30 MB."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"ssl-pinning",children:"SSL Pinning"}),"\n",(0,l.jsx)(n.p,{children:"It allows you to use a specified list of certificates to check whether they match the certificates on the server."}),"\n",(0,l.jsx)(n.admonition,{type:"danger",children:(0,l.jsx)(n.p,{children:"When utilizing this functionality, we do not recommend using only one certificate. If it is revoked or expired, SDK will stop connecting to the server. Use backup certificates and update them timely."})}),"\n",(0,l.jsx)(n.p,{children:"To enable SSL pinning, you need to:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Place the public certificates in the ",(0,l.jsx)(n.strong,{children:"res/raw"})," folder."]}),"\n",(0,l.jsxs)(n.li,{children:["In the ",(0,l.jsx)(n.code,{children:"Application"})," class in the ",(0,l.jsx)(n.code,{children:"ConfigBuilder"})," initialization directory, add the list of certificates. For example:"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:".certificateRawResIds(Collections.singletonList(R.raw.crt));\n"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"In the manifest, register the network config. For example:"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:'android:networkSecurityConfig="@xml/network_security_config"'})}),"\n",(0,l.jsx)(n.p,{children:"In the contents of the configuration file, you need to specify or add a network profile. For example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'<network-security-config> \n    <domain-config cleartextTrafficPermitted="false"> \n        <domain includeSubdomains="true">your_domain/</domain> \n        <trust-anchors> \n            <certificates src="@raw/crt"/> \n        </trust-anchors> \n    </domain-config> \n</network-security-config>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"timeout-customization",children:"Timeout Customization"}),"\n",(0,l.jsxs)(n.p,{children:["For timeout customization of threads, to ",(0,l.jsx)(n.code,{children:"ConfigBuilder"}),", the\xa0",(0,l.jsx)(n.code,{children:"requestConfig(final RequestConfig requestConfig)"})," method has been added."]}),"\n",(0,l.jsx)(n.p,{children:"RequestConfig contains the following fields with default settings:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"socketClientSettings"}),"\xa0(type SocketClientSettings) - Socket connection settings\xa0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"picassoHttpClientSettings"}),"\xa0(type HttpClientSettings) - HTTP connection settings for the Picasso image download library\xa0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"authHttpClientSettings"}),"\xa0(type HttpClientSettings) - HTTP connection settings for authorization\xa0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"threadsApiHttpClientSettings"}),"\xa0(type HttpClientSettings) - HTTP connection settings for the Chat Center server API"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"SocketClientSettings contains the following:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"resendIntervalMillis"}),"\xa0- Interval of the repeated attempt to send the message"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"resendPingIntervalMillis"}),"\xa0- Interval of requests to maintain an active connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().pingInterval()"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"connectTimeoutMillis"}),"\xa0- Timeout for establishing a new connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().connectTimeout()"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"readTimeoutMillis"}),"\xa0- Read operation timeout for a new connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().readTimeout()"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"writeTimeoutMillis"}),"\xa0- Timeout of write operations for a new connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().writeTimeout()"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"HttpClientSettings contains the following:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"connectTimeoutMillis"}),"\xa0- Timeout for establishing a new connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().connectTimeout()"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"readTimeoutMillis"}),"\xa0- Read operation timeout for a new connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().readTimeout()"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"writeTimeoutMillis"}),"\xa0- Timeout of write operations for a new connection (",(0,l.jsx)(n.code,{children:"OkHttpClient.Builder().writeTimeout()"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"using-internal-deeplinks",children:"Using Internal Deeplinks"}),"\n",(0,l.jsx)(n.p,{children:"The library allows you to use internal deeplinks. For example, if there is text in the following format is in the message:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"earth://some.params?code={code}"})}),"\n",(0,l.jsx)(n.p,{children:"And if you create Activity that will be launched by \u0410ction.VIEW, then the specified activity will launch when the link is tapped. For that, specify filters for your activity:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'<intent-filter>\n    <action android:name="android.intent.action.VIEW" />\n    <category android:name="android.intent.category.DEFAULT" />\n    <category android:name="android.intent.category.BROWSABLE" />\n    <data android:scheme="earth"\n        android:host="*" />\n</intent-filter>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"configuring-backup-for-app",children:"Configuring Backup for App"}),"\n",(0,l.jsx)(n.p,{children:"The library uses the following setting:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'<application  \n  android:fullBackupContent="@xml/backup_rules">\n  ...\n </application>\n'})}),"\n",(0,l.jsx)(n.p,{children:"The contents of this file is as follows:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'<full-backup-content>  \n   <exclude domain="sharedpref" path="im.threads.internal.utils.EncryptedPrefStore.xml"/>  \n</full-backup-content>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["This entry is required so that encrypted ",(0,l.jsx)(n.code,{children:"SharedPreferences"})," do not remain in the device's memory after the app is reinstalled.\nIf you use your own ",(0,l.jsx)(n.code,{children:"fullBackupContent"})," file, you need to add ",(0,l.jsx)(n.code,{children:"exclude"})," that is defined on our side to your file and override the file with yours:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'<application  \n  android:fullBackupContent="@xml/your_backup_rules"\n  tools:replace="android:fullBackupContent">\n  ...\n </application>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Other SDKs might use the ",(0,l.jsx)(n.code,{children:"android:fullBackupContent"})," setting as well. In this case, you need to review which exceptions are registered in these SDKs and make a shared file. For example, Vungle and AppsFlyer have their own ",(0,l.jsx)(n.code,{children:"fullBackupContent"})," settings. Their exceptions are documented as follows:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://support.vungle.com/hc/en-us/articles/360047780372#vungle-exclusion-rules-0-11",children:"Vungle"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://support.appsflyer.com/hc/en-us/articles/207032126-Android-SDK-integration-for-developers#integration-backup-rules",children:"AppsFlyer"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"To merge their settings with the ones we have, the file should look as follows:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'<full-backup-content>\n        <exclude domain="sharedpref" path="appsflyer-data"/>\n        <exclude domain="file" path="vungle" />\n        <exclude domain="file" path="vungle_cache" />\n        <exclude domain="external" path="vungle_cache" />\n        <exclude domain="database" path="vungle_db" />\n        <exclude domain="sharedpref" path="com.vungle.sdk.xml" />\n        <exclude domain="sharedpref" path="im.threads.internal.utils.EncryptedPrefStore.xml"/>\n</full-backup-content>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"logger",children:"Logger"}),"\n",(0,l.jsxs)(n.p,{children:["The library uses its own logger that supports recording to a file. It is disabled by default, meaning the logs will not be recorded to a file or to the console.\nTo enable the logs in the library, you need to enable ",(0,l.jsx)(n.code,{children:"enableLogging"})," in ",(0,l.jsx)(n.code,{children:"ConfigBuilder"})," and pass the logger builder as follows:"]}),"\n",(0,l.jsxs)(o.Z,{groupId:"ios-language",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],children:[(0,l.jsx)(a.Z,{value:"kotlin",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"val configBuilder = ConfigBuilder(this) // this - app context\n            .enableLogging(loggerConfig)\n"})})}),(0,l.jsx)(a.Z,{value:"java",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"ConfigBuilder configBuilder = new ConfigBuilder(this) // this - app context\n            .enableLogging(loggerConfig)\n"})})})]}),"\n",(0,l.jsx)(n.p,{children:"To create a logger builder, you need to complete the following command:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"LoggerConfig.Builder(this) // this - app context\n"})}),"\n",(0,l.jsx)(n.p,{children:"To enable recording logs to a file, you need to enable this as a feature:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"logToFile()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Then, you need to specify the log directory:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'dir(File(this.filesDir, "logs"))\n'})}),"\n",(0,l.jsxs)(n.p,{children:["The logger supports two types of logging. It can be logging into either a single file or to several files, the name of which will be equal to the start time of the app session. For that, ",(0,l.jsx)(n.code,{children:"LoggerRetentionPolicy"})," is used with the ",(0,l.jsx)(n.code,{children:"FILE_COUNT"})," value used for sessions and ",(0,l.jsx)(n.code,{children:"TOTAL_SIZE"})," used for recording into a single file.\nThe logging method is specified as:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"retentionPolicy(LoggerRetentionPolicy.TOTAL_SIZE)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If you used ",(0,l.jsx)(n.code,{children:"LoggerRetentionPolicy.TOTAL_SIZE"}),", then, to limit the max size, specify the following:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"maxTotalSize(N) // N - size in bytes\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Also, in case with ",(0,l.jsx)(n.code,{children:"LoggerRetentionPolicy.TOTAL_SIZE"}),", you can enter your own name for the file (by default, it will be the start time of the first session). For that, specify the following:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'fileName("your_file_name")\n'})}),"\n",(0,l.jsxs)(n.p,{children:["If you used ",(0,l.jsx)(n.code,{children:"LoggerRetentionPolicy.FILE_COUNT"}),", then, to limit the number of files, specify the following:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"maxFileCount(N) // N - number of files\n"})}),"\n",(0,l.jsx)(n.p,{children:"To define the minimum level for logs (default - LoggerLevel.VERBOSE), specify the following:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:"minLogLevel(logLevel) // logLevel - your minimum level for logs\n"})}),"\n",(0,l.jsxs)(n.p,{children:["At the end, you need to call ",(0,l.jsx)(n.code,{children:"build()"}),". Configuration example:"]}),"\n",(0,l.jsxs)(o.Z,{groupId:"ios-language",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],children:[(0,l.jsx)(a.Z,{value:"kotlin",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'val loggerConfig = LoggerConfig.Builder(this)\n            .logToFile()\n            .dir(File(this.filesDir, "logs"))\n            .retentionPolicy(LoggerRetentionPolicy.TOTAL_SIZE)\n            .maxTotalSize(5242880)\n            .build()\n'})})}),(0,l.jsx)(a.Z,{value:"java",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'LoggerConfig loggerConfig = new LoggerConfig.Builder(this)\n            .logToFile()\n            .dir(File(this.filesDir, "logs"))\n            .retentionPolicy(LoggerRetentionPolicy.TOTAL_SIZE)\n            .maxTotalSize(5242880)\n            .build()\n'})})})]})]})}function g(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},5525:function(e,n,i){i.d(n,{Z:()=>r});var t=i(85893);i(67294);var l=i(67026);function r({children:e,hidden:n,className:i}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,l.Z)("tabItem_Ymn6",i),hidden:n,children:e})}},47902:function(e,n,i){i.d(n,{Z:()=>j});var t=i(85893),l=i(67294),r=i(67026),o=i(69599),a=i(16550),s=i(32e3),c=i(4520),d=i(38341),h=i(76009);function u(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function g({value:e,tabValues:n}){return n.some(n=>n.value===e)}var p=i(7227);function f({className:e,block:n,selectedValue:i,selectValue:l,tabValues:a}){let s=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),d=e=>{let n=e.currentTarget,t=a[s.indexOf(n)].value;t!==i&&(c(n),l(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{let i=s.indexOf(e.currentTarget)+1;n=s[i]??s[0];break}case"ArrowLeft":{let i=s.indexOf(e.currentTarget)-1;n=s[i]??s[s.length-1]}}n?.focus()};return(0,t.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:l})=>(0,t.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>{s.push(e)},onKeyDown:h,onClick:d,...l,className:(0,r.Z)("tabs__item","tabItem_LNqP",l?.className,{"tabs__item--active":i===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:i}){let o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=o.find(e=>e.props.value===i);return e?(0,l.cloneElement)(e,{className:(0,r.Z)("margin-top--md",e.props.className)}):null}return(0,t.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==i}))})}function m(e){let n=function(e){let{defaultValue:n,queryString:i=!1,groupId:t}=e,r=function(e){let{values:n,children:i}=e;return(0,l.useMemo)(()=>{let e=n??u(i).map(({props:{value:e,label:n,attributes:i,default:t}})=>({value:e,label:n,attributes:i,default:t})),t=(0,d.lx)(e,(e,n)=>e.value===n.value);if(t.length>0)throw Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,i])}(e),[o,p]=(0,l.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let i=n.find(e=>e.default)??n[0];if(!i)throw Error("Unexpected error: 0 tabValues");return i.value})({defaultValue:n,tabValues:r})),[f,x]=function({queryString:e=!1,groupId:n}){let i=(0,a.k6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c._X)(t),(0,l.useCallback)(e=>{if(!t)return;let n=new URLSearchParams(i.location.search);n.set(t,e),i.replace({...i.location,search:n.toString()})},[t,i])]}({queryString:i,groupId:t}),[m,j]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[i,t]=(0,h.Nk)(n);return[i,(0,l.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),v=(()=>{let e=f??m;return g({value:e,tabValues:r})?e:null})();return(0,s.Z)(()=>{v&&p(v)},[v]),{selectedValue:o,selectValue:(0,l.useCallback)(e=>{if(!g({value:e,tabValues:r}))throw Error(`Can't select invalid tab value=${e}`);p(e),x(e),j(e)},[x,j,r]),tabValues:r}}(e);return(0,t.jsxs)("div",{className:(0,r.Z)("tabs-container","tabList__CuJ"),children:[(0,t.jsx)(f,{...n,...e}),(0,t.jsx)(x,{...n,...e})]})}function j(e){let n=(0,p.Z)();return(0,t.jsx)(m,{...e,children:u(e.children)},String(n))}},50065:function(e,n,i){i.d(n,{Z:()=>a,a:()=>o});var t=i(67294);let l={},r=t.createContext(l);function o(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);