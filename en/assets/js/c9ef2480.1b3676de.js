"use strict";(self.webpackChunkedna_docs=self.webpackChunkedna_docs||[]).push([["51392"],{91678:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>a,toc:()=>c,default:()=>o,metadata:()=>t,assets:()=>l,contentTitle:()=>h});var t=JSON.parse('{"id":"Methods_and_properties_of_API","title":"Methods and properties of API","description":"General info","source":"@site/i18n/en/docusaurus-plugin-content-docs-web/version-6.33.0/Methods_and_properties_of_API.md","sourceDirName":".","slug":"/Methods_and_properties_of_API","permalink":"/en/web/6.33.0/Methods_and_properties_of_API","draft":false,"unlisted":false,"tags":[],"version":"6.33.0","lastUpdatedAt":1758780804000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"mainSidebar","previous":{"title":"Setting up language localization","permalink":"/en/web/6.33.0/Setting_up_language_localization"},"next":{"title":"Theme settings","permalink":"/en/web/6.33.0/Theme_settings"}}'),s=i(85893),d=i(50065);let a={sidebar_position:7},h="Methods and properties of API",l={},c=[{value:"General info",id:"general-info",level:2},{value:"Visibility settings",id:"visibility-settings",level:2},{value:"Methods",id:"methods",level:2},{value:"<code>SDK API ThreadsWidget.showChat()</code>",id:"sdk-api-threadswidgetshowchat",level:3},{value:"Example",id:"example",level:5},{value:"<code>SDK API ThreadsWidget.hideChat()</code>",id:"sdk-api-threadswidgethidechat",level:3},{value:"Example",id:"example-1",level:5},{value:"<code>SDK API ThreadsWidget.version()</code>",id:"sdk-api-threadswidgetversion",level:3},{value:"Example",id:"example-2",level:5},{value:"<code>SDK API ThreadsWidget.commitHash()</code>",id:"sdk-api-threadswidgetcommithash",level:3},{value:"Example",id:"example-3",level:5},{value:"<code>SDK API ThreadsWidget.onLoad(callback)</code>",id:"sdk-api-threadswidgetonloadcallback",level:3},{value:"Parameters",id:"parameters",level:5},{value:"Example",id:"example-4",level:5},{value:"<code>SDK API ThreadsWidget.on(event, callback)</code>",id:"sdk-api-threadswidgetonevent-callback",level:3},{value:"Parameters",id:"parameters-1",level:5},{value:"<code>SDK API ThreadsWidget.setLocale(locale)</code>",id:"sdk-api-threadswidgetsetlocalelocale",level:3},{value:"Example",id:"example-5",level:5},{value:"<code>SDK API ThreadsWidget.reInit([Object])</code>",id:"sdk-api-threadswidgetreinitobject",level:3},{value:"Examples",id:"examples",level:5},{value:"<code>SDK API ThreadsWidget.clientLogout()</code>",id:"sdk-api-threadswidgetclientlogout",level:3},{value:"<code>SDK API ThreadsWidget.getUnreadCounter()</code>",id:"sdk-api-threadswidgetgetunreadcounter",level:3},{value:"Example",id:"example-6",level:5},{value:"<code>SDK API ThreadsWidget.setUnavailable([Boolean])</code>",id:"sdk-api-threadswidgetsetunavailableboolean",level:3},{value:"Example",id:"example-7",level:5},{value:"<code>SDK API ThreadsWidget.sendMessage(string)</code>",id:"sdk-api-threadswidgetsendmessagestring",level:3},{value:"Example",id:"example-8",level:5}];function r(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"methods-and-properties-of-api",children:"Methods and properties of API"})}),"\n",(0,s.jsx)(n.h2,{id:"general-info",children:"General info"}),"\n",(0,s.jsxs)(n.p,{children:["Use the global object ",(0,s.jsx)(n.code,{children:"ThreadsWidget"})," to access methods and properties of API."]}),"\n",(0,s.jsx)(n.h2,{id:"visibility-settings",children:"Visibility settings"}),"\n",(0,s.jsxs)(n.p,{children:["The methods below are designed to manage chat visibility. For example, use them if you deploy custom methods to show/hide the chat instead of using the ",(0,s.jsx)(n.a,{href:"Theme_settings#chatbutton",children:"standard start button"}),". To switch the chat to the mode without the standard start button, set the ",(0,s.jsx)(n.code,{children:"isContainerHidden"})," parameter  in the ",(0,s.jsx)(n.a,{href:"Structure_of_the_config_file_settings_json",children:"chat configuration"})," to ",(0,s.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"isContainerHidden": true\n'})}),"\n",(0,s.jsxs)(n.p,{children:["You can find a complete example of creating a custom button to control the visibility of the chat in the ",(0,s.jsx)(n.code,{children:"examples/Custom button"})," folder."]}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetshowchat",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.showChat()"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to show the chat container."}),"\n",(0,s.jsx)(n.h5,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<button onclick="ThreadsWidget.showChat()">Show</button>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgethidechat",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.hideChat()"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to hide the chat container."}),"\n",(0,s.jsx)(n.h5,{id:"example-1",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<button onclick="ThreadsWidget.hideChat()">Hide</button>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetversion",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.version()"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to return the chat version."}),"\n",(0,s.jsx)(n.h5,{id:"example-2",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.version();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetcommithash",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.commitHash()"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to return the hash of the commit on which the chat is built."}),"\n",(0,s.jsx)(n.h5,{id:"example-3",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.commitHash();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetonloadcallback",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.onLoad(callback)"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to specify a callback function that is executed when the chat is finished loading."}),"\n",(0,s.jsx)(n.h5,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"callback"})," - function executed when the chat is finished loading"]}),"\n",(0,s.jsx)(n.h5,{id:"example-4",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.onLoad(function () {\n  // remove preloaders etc.\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetonevent-callback",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.on(event, callback)"})}),"\n",(0,s.jsxs)(n.p,{children:["Use this method to set an event handler. It is necessary to set event handlers after initializing a web chat using the ",(0,s.jsx)(n.code,{children:"ThreadsWidget.onLoad(callback)"})," method."]}),"\n",(0,s.jsx)(n.h5,{id:"parameters-1",children:"Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"callback"})," - The function that will be executed when the even occurs"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"event"})," - The event name"]}),"\n",(0,s.jsx)(n.p,{children:"As the event name, you can set the following:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"hideChat"})," - This event occurs when the chat container is hidden."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"showChat"})," - This event occurs when the chat container is showing."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"closeChat"})," - This event occurs when closing the chat (from the full chat window to a chat button)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"openChat"})," - This event occurs when opening the chat (from the chat button into a full chat window)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"showInviteMessage"})," - This event occurs when a welcome message is shown."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"hideInviteMessage"})," - This event occurs when the welcome message is hidden."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"changeOperationMode"})," - This event occurs when operation mode is changed. After the event occurs, the handler will be called to which the following data will be passed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"{\n    isNowInactive: Boolean // Gets the true/false value if the event occurred when the chat became inactive/active, according to the chat mode settings. \n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"changeUnreadCounter"})," - This event occurs when unread messages appear in the chat. The number of unread messages will be passed to the handler."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"messageSent"})," - This event occurs when the client has sent a message. The message object will be passed to the handler."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetsetlocalelocale",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.setLocale(locale)"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to change the chat locale language on the fly."}),"\n",(0,s.jsx)(n.h5,{id:"example-5",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.setLocale('ru');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetreinitobject",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.reInit([Object])"})}),"\n",(0,s.jsxs)(n.p,{children:["Use this method to reinitialize the chat. For SPA websites, the method allows you to switch the chat from the authorized mode to the unauthorized mode and vice versa without reloading the page. ",(0,s.jsx)(n.code,{children:"Object"})," - An object where the key is the value of the ",(0,s.jsx)(n.code,{children:"webchat/clientId"})," parameter of the ",(0,s.jsx)(n.code,{children:"settings.json"})," configuration file, and its value is the ID of the authorized client.\nIf you pass an empty string as a value, the chat will switch to the unauthorized mode."]}),"\n",(0,s.jsx)(n.h5,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Switching to the unauthorized mode"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ThreadsWidget.reInit({\n  clientId: '',\n});\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Switching to the authorized mode"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ThreadsWidget.reInit({\n  clientId: 'h5lkdj3dxdkjdn123oxsdmvkaffqef',\n});\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetclientlogout",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.clientLogout()"})}),"\n",(0,s.jsx)(n.p,{children:"Log out as an authorized user. Required to stop sending push notifications to the device."}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetgetunreadcounter",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.getUnreadCounter()"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to return the number of unread messages in the widget."}),"\n",(0,s.jsx)(n.h5,{id:"example-6",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.getUnreadCounter();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetsetunavailableboolean",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.setUnavailable([Boolean])"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to manage the widget availability on the fly.\nedna provides processing of the business scenario when the appropriate conditions occur:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After getting the ",(0,s.jsx)(n.code,{children:"setUnavailable"})," call, the widget remains visible if the client has an active thread."]}),"\n",(0,s.jsxs)(n.li,{children:["After getting the ",(0,s.jsx)(n.code,{children:"setUnavailable"})," call, if the client does not have an active thread, but the widget is opened, the chat remains visible, but the input field is not available."]}),"\n",(0,s.jsx)(n.li,{children:"All other calls hide the widget."}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"example-7",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.setUnavailable(true);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sdk-api-threadswidgetsendmessagestring",children:(0,s.jsx)(n.code,{children:"SDK API ThreadsWidget.sendMessage(string)"})}),"\n",(0,s.jsx)(n.p,{children:"Use this method to send a message to the chat."}),"\n",(0,s.jsx)(n.h5,{id:"example-8",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"ThreadsWidget.sendMessage('Hello');\n"})})]})}function o(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},50065:function(e,n,i){i.d(n,{Z:()=>h,a:()=>a});var t=i(67294);let s={},d=t.createContext(s);function a(e){let n=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function h(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);